---
title: Testing Drake
author: Aaron Lun
output:
  BiocStyle::html_document:
    toc_float: yes
vignette: >
  %\VignetteIndexEntry{asd asd asddasdas}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}  
---

# Introduction

Setting up the workplan.

```{r}
library(drake)
collected <- list()
for (i in sample(c("test1.Rmd", "test0.Rmd", "unrelated.Rmd", "alt_test.Rmd"))) {
    collected[[paste0("target_", sub(".Rmd", "", i))]] <- 
        sprintf("rmarkdown::render(knitr_in(\"%s\"), output_file=file_out(\"%s\"), 
            output_dir=\".\", intermediates_dir=\".\", knit_root_dir=\"%s\", clean=FALSE)",
            system.file("workflows", i, package="DrakeTest"), sub(".Rmd", ".html", i), getwd())
}
plan <- drake_plan(list=unlist(collected), strings_in_dots="literal")
```

# Session information

```{r}
sessionInfo()
```
    

